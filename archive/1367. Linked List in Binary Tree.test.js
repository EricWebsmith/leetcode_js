const { expect } = require("chai");
const _ = require('lodash');
const { TreeNode, array2TreeNode, array2ListNode } = require('../leetcode')


function isSame(head, node) {
    if (!head) {
        return true;
    }

    if(!node || node.val !== head.val) {return false;}
    return isSame(head.next, node.left) || isSame(head.next, node.right)
}

/**
 * @param {ListNode} head 
 * @param {TreeNode} node 
 */
function dfs(head, node){
    if (!head) {
        return true;
    }

    if (!node) {
        return false;
    }

    if (node.val === head.val) {
        //if(head.next === null || head.next === undefined) {return true;}
        if(isSame(head.next, node.left)) {return true;}
        if(isSame(head.next, node.right)) {return true;}
    }

    if(dfs(head, node.left)){return true;}
    if(dfs(head, node.right)){return true;}
    return false;
}

/**
 * 
 * @param {ListNode} head 
 * @param {TreeNode} root 
 * @returns {boolean}
 */
function isSubPath(head, root) {
    return dfs(head, root);
}

function test(headArr, rootArr, expected) {
    const head = array2ListNode(headArr);
    const root = array2TreeNode(rootArr);
    const actual = isSubPath(head, root);
    console.log(actual, expected);
    expect(actual).to.be.eql(expected);
}

describe('1367. Linked List in Binary Tree', () => {
    it('1', () => { test([4,2,8], [1,4,4,null,2,2,null,1,null,6,8,null,null,null,null,1,3], true) });
    it('2', () => { test([1,4,2,6], [1,4,4,null,2,2,null,1,null,6,8,null,null,null,null,1,3], true) });
    it('3', () => { test([1,4,2,6,8], [1,4,4,null,2,2,null,1,null,6,8,null,null,null,null,1,3], false) });
    it('4', () => { test([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1], 
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,null,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,null,1,1,1,1,null,null,null,null,null,1,null,1,1,1,1,1,null,1,1,null,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,null,1,1,null,1,1,null,null,1,1,1,1,1,1,null,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,null,null,null,null,null,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,null,1,null,1,1,1,1,1,1,1,1,1,null,1,null,null,1,1,1,null,null,1,null,null,1,null,1,1,null,1,1,1,1,1,1,1,1,null,1,null,1,null,1,1,1,1,1,null,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,null,1,null,null,null,null,1,1,null,1,1,1,1,1,1,1,null,1,1,null,null,null,1,null,null,1,1,1,1,1,1,1,1,null,1,null,null,null,null,null,null,1,1,1,null,1,null,null,1,1,1,1,1,null,null,1,1,1,1,null,null,1,null,1,1,1,null,1,1,null,null,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,null,1,null,1,1,1,1,1,null,null,null,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,null,null,1,null,1,1,null,1,1,1,1,1,1,1,1,1,null,null,1,null,1,1,null,null,1,1,1,1,1,1,1,null,1,1,null,null,null,1,1,null,null,1,null,null,1,1,null,null,null,1,null,null,null,null,null,1,null,1,1,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,1,null,1,null,null,1,1,null,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,null,1,1,1,1,null,null,1,null,null,null,null,1,1,null,null,null,1,1,null,null,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,null,null,1,1,null,1,1,1,1,null,1,1,1,1,1,1,1,1,null,null,1,1,1,1,1,1,1,1,1,null,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,null,null,1,1,1,null,null,1,1,1,null,1,1,1,1,null,null,null,null,1,null,1,1,1,1,1,1,1,null,null,null,null,1,null,null,1,1,1,null,1,1,null,1,1,1,null,1,1,1,null,1,1,null,null,null,1,1,null,1,1,1,null,1,null,null,null,null,null,null,null,1,1,1,1,1,1,1,1,null,null,null,null,null,null,1,null,null,1,null,null,1,1,null,1,null,1,1,null,null,null,null,null,1,null,1,null,null,1,1,null,null,1,1,1,1,1,1,1,null,1,1,1,null,1,1,1,null,null,null,null,1,null,1,1,null,1,null,null,null,null,null,1,null,null,1,1,null,1,null,null,1,null,1,null,1,null,1,1,1,1,null,null,null,null,1,1,null,null,1,null,1,1,1,1,1,1,1,null,1,null,1,1,1,1,1,1,null,null,null,null,null,null,1,1,null,null,1,null,null,null,1,null,1,1,1,null,1,1,1,1,null,null,null,1,null,1,null,null,null,1,null,null,null,1,null,1,1,1,null,1,1,1,1,1,1,1,1,null,1,1,1,1,null,null,null,null,1,null,1,1,null,null,1,null,null,null,null,null,null,null,1,1,1,1,1,1,1,1,null,null,1,1,null,null,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,null,1,null,1,1,null,null,1,1,null,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,null,null,null,null,1,null,null,null,null,null,null,1,1,1,null,null,null,1,1,null,1,1,1,1,null,1,1,null,null,null,null,1,1,1,1,null,1,1,null,null,1,null,1,1,1,1,1,1,1,1,null,null,null,null,1,1,null,1,null,null,null,1,1,null,1,null,1,1,null,null,null,null,1,1,null,1,1,1,1,1,null,1,1,null,null,null,1,null,null,1,1,1,1,1,1,1,null,null,1,1,null,1,1,null,1,1,null,1,null,null,1,1,null,1,1,null,1,1,1,1,1,1,1,1,1,null,1,1,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,1,1,null,null,null,null,1,null,null,1,null,1,null,1,null,null,null,1,null,null,1,null,1,null,null,1,null,null,1,1,1,null,1,1,1,1,null,1,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,1,1,1,null,null,null,1,null,null,null,null,null,1,1,null,null,1,1,1,null,1,1,1,1,1,1,1,1,1,1,null,null,1,1,null,1,1,1,1,1,1,1,null,1,null,null,1,1,null,1,null,null,null,null,1,null,null,null,null,null,null,1,null,null,1,1,null,null,1,1,1,1,1,1,1,1,1,1,1,null,1,null,null,null,null,1,1,1,1,1,1,null,null,1,null,1,null,1,null,null,1,null,null,null,1,1,1,1,1,null,1,1,1,null,null,1,1,1,1,1,1,1,1,1,null,null,null,null,null,1,null,1,null,1,null,1,1,1,1,1,1,1,null,1,1,1,1,1,1,null,null,1,1,null,1,null,null,null,1,1,null,null,1,1,null,1,1,null,1,1,1,1,null,null,1,null,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,null,1,1,null,1,1,null,null,1,1,null,1,1,1,1,1,1,null,null,1,1,null,null,1,null,null,null,1,null,1,null,1,null,1,1,1,1,1,1,1,1,null,1,1,1,1,null,1,null,null,1,1,1,1,null,1,1,1,1,1,null,1,null,null,null,1,1,1,null,1,null,null,1,1,null,null,null,null,null,null,1,null,null,1,1,1,1,null,null,null,1,1,1,null,null,null,null,null,1,null,1,null,1,null,null,null,null,1,1,null,null,1,1,1,null,null,1,1,1,null,null,null,1,null,1,1,1,null,1,null,null,null,null,1,1,1,1,1,null,null,null,1,null,null,1,null,1,1,1,1,1,1,null,null,null,1,1,1,null,null,1,null,null,null,1,null,null,1,1,null,null,1,null,null,null,null,1,1,null,1,1,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,1,null,1,1,null,null,null,1,1,null,1,null,1,1,null,1,null,1,1,1,null,null,null,1,null,1,1,1,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,1,null,null,1,1,1,1,null,null,1,1,null,1,1,1,1,1,null,null,null,null,null,null,null,null,null,null,null,1,null,1,null,null,null,null,1,1,1,1,1,1,1,1,null,null,1,null,1,1,null,1,null,null,1,1,1,1,null,1,null,1,null,null,null,1,null,null,null,null,null,null,null,1,1,1,1,1,1,1,1,1,null,null,null,null,null,null,1,1,1,1,1,1,null,1,1,1,1,1,1,null,1,null,1,1,null,null,1,1,null,null,null,1,1,null,null,1,1,1,1,1,null,1,1,null,null,null,null,null,null,1,null,null,1,1,null,1,null,null,1,1,null,null,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,null,null,1,null,1,1,1,null,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,null,null,null,null,null,1,1,null,1,1,1,null,null,null,1,1,1,1,1,null,1,null,1,null,null,1,null,1,1,null,1,null,1,1,null,null,1,null,null,1,null,null,null,null,null,null,1,null,1,null,1,null,1,1,1,1,1,null,1,1,1,1,1,1,null,null,1,null,null,null,null,null,1,1,1,1,null,null,null,1,1,1,1,null,1,null,1,1,null,null,null,null,1,1,1,null,1,null,null,null,null,1,null,1,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,1,1,null,null,1,1,null,null,null,1,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,1,1,null,null,null,null,null,1,null,1,1,null,null,null,1,1,1,null,null,1,1,null,null,1,1,1,null,null,null,null,null,null,1,null,1,1,1,1,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,1,1,null,1,1,null,1,1,1,null,null,null,null,null,null,null,1,1,null,1,1,null,null,null,1,1,1,null,1,1,1,null,1,null,null,null,1,1,null,null,null,1,null,1,null,1,1,null,null,null,null,null,1,null,1,1,1,1,1,null,1,1,null,null,null,null,null,null,null,null,null,null,null,1,null,1,null,1,1,null,null,null,1,1,1,1,1,null,1,1,1,null,1,null,null,1,1,null,null,null,1,null,1,null,1,null,1,1,null,null,null,null,1,null,1,1,null,null,1,1,1,1,null,1,null,1,null,null,1,1,1,1,1,1,null,null,null,null,1,null,null,1,null,null,1,null,1,1,1,1,null,1,1,1,1,1,1,1,1,1,null,1,null,null,null,null,null,null,1,1,1,null,1,1,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,1,1,1,1,null,1,null,null,null,null,null,null,null,null,1,1,1,1,null,1,1,1,1,1,1,null,1,1,null,1,1,1,1,null,null,1,null,null,1,1,1,1,1,1,1,null,null,1,1,1,null,1,1,1,1,null,1,1,1,1,null,null,1,1,1,1,1,1,null,null,1,1,1,1,1,null,1,1,1,null,null,null,1,null,1,1,null,null,1,1,1,1,1,null,null,1,1,1,1,1,null,null,1,null,null,null,1,1,1,1,null,null,null,null,null,null,null,null,null,null,1,null,1,1,null,null,1,null,1,null,null,null,null,null,null,null,1,null,1,null,1,1,null,1,null,1,1,null,1,null,null,null,null,null,null,null,1,null,null,null,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,null,1,null,null,null,1,null,null,null,null,null,null,1,null,null,null,null,1,null,null,null,1,null,null,1,1,1,null,null,null,null,null,null,1,null,null,null,null,null,null,1,null,1,1,null,null,1,1,1,null,null,null,1,1,null,null,1,1,1,null,null,1,null,1,1,null,null,null,null,null,1,1,1,1,null,null,1,null,null,null,null,null,null,1,null,null,null,null,1,null,null,null,null,1,1,null,1,1,1,null,null,null,1,null,null,1,1,null,null,null,1,null,null,null,1,1,null,null,null,null,null,null,1,null,1,1,null,null,null,null,null,1,null,1,null,1,null,null,1,null,1,1,null,null,null,1,1,1,1,1,null,null,null,null,null,1,null,null,null,null,null,1,null,null,null,1,null,null,null,1,1,1,null,null,null,null,null,null,null,null,null,1,1,1,null,1,null,null,null,null,null,1,1,1,null,null,1,null,null,1,null,null,null,1,null,null,1,1,1,1,1,1,1,1,null,1,null,null,1,1,1,null,1,null,1,1,1,1,1,1,1,1,null,null,1,null,null,1,null,null,1,null,null,1,null,null,1,null,null,1,null,null,null,null,null,1,1,1,1,1,1,1,null,1,null,1,null,1,1,null,1,1,1,1,null,null,null,null,null,null,null,null,1,1,1,1,1,1,1,1,null,null,1,null,null,null,1,null,1,null,null,null,1,1,null,null,1,null,1,1,1,null,1,1,1,1,null,null,1,1,1,null,1,1,1,1,1,null,null,null,1,null,1,1,1,1,1,1,null,1,1,null,1,null,null,null,null,1,1,null,null,null,1,null,1,1,null,null,1,1,1,null,null,null,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,null,null,1,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,1,1,null,1,1,1,1,null,null,null,1,null,null,null,null,null,null,null,null,1,1,1,1,null,1,1,null,1,null,null,null,null,null,1,null,1,1,1,null,1,1,null,null,null,null,1,1,null,1,null,null,null,null,1,1,1,1,null,null,null,null,null,null,null,1,null,null,1,1,1,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,1,null,1,1,null,null,null,null,null,null,1,1,null,null,1,null,1,1,null,null,1,null,null,null,null,null,1,null,null,1,null,1,null,null,null,null,1,null,null,null,1,null,null,1,null,1,1,null,1,1,null,null,null,null,null,null,1,null,null,null,1,null,null,null,null,1,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,1,null,1,null,1,null,1,null,null,null,null,null,null,null,null,null,1,1,1,null,null,null,null,null,null,1,null,null,null,null,null,1,null,1,1,null,1,1,1,1,1,1,1,null,null,null,null,1,1,null,1,null,null,1,1,null,null,1,1,1,null,null,1,null,1,null,null,null,null,null,null,null,1,null,null,1,1,null,null,null,1,1,null,1,null,null,1,1,1,null,1,1,1,1,1,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,1,1,null,null,null,null,1,1,null,null,1,null,null,null,1,null,null,null,null,null,1,null,null,1,null,1,null,null,null,null,null,null,1,1,null,null,1,1,null,1,1,1,1,null,1,1,null,null,1,null,null,null,null,null,null,1,null,null,1,null,1,1,null,1,null,1,1,null,null,null,1,null,null,null,null,null,null,null,null,null,1,1,null,1,null,null,null,null,null,1,1,1,null,1,1,null,1,1,1,null,null,null,null,1,null,1,1,null,1,null,null,1,1,null,null,null,1,null,null,null,null,null,1,1,null,null,null,null,null,null,1,null,null,1,1,1,null,null,null,null,1,1,null,1,null,1,null,null,1,null,null,null,null,null,null,null,1,null,1,1,1,null,1,1,1,1,null,null,1,null,1,1,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,1,null,null,1,null,null,null,null,null,null,null,1,1,null,1,1,1,null,1,1,null,null,null,null,null,1,null,null,null,null,1,1,1,1,1,null,1,null,null,null,null,null,null,null,null,null,null,1,1,1,null,null,null,null,null,null,null,null,null,1,1,1,null,null,null,null,1,null,null,1,null,null,null,1,null,null,null,null,null,null,1,1,1,1,1,null,1,null,1,null,null,null,1,1,1,null,null,null,1,null,null,null,1,1,1,null,null,null,null,null,null,null,1,null,null,1,null,null,null,null,1,null,null,1,null,1,null,1,1,1,null,1,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,1,null,1,null,1,null,1,1,null,1,1,null,null,null,null,1,null,null,1,1,1,null,null,1,null,1,null,1,null,1,null,1,1,null,null,null,null,null,1,null,null,null,null,1,1,null,null,null,null,null,null,1,1,null,null,1,1,null,null,null,null,null,null,1,null,1,1,1,null,null,null,1,1,null,null,1,null,1,1,1,null,null,null,null,1,1,1,null,null,1,null,null,null,null,null,null,null,null,null,null,1,null,1,null,1,null,1,1,null,null,1,1,1,null,1,1,1,1,null,null,1,1,1,null,1,null,null,null,null,null,null,1,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,1,1,null,1,null,null,null,null,null,null,null,null,null,1,1,null,1,null,1,null,null,1,null,null,null,null,null,null,null,null,1,1,null,1,null,null,null,1,null,1,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,1,null,null,1,null,1,null,1,null,1,null,null,null,1,null,null,null,null,null,1,null,null,1,null,null,1,null,null,null,null,1,null,null,1,null,null,null,null,1,null,1,null,1,null,null,null,1,1,null,null,null,null,1,1,null,1,1,null,1,null,null,null,null,null,null,null,null,null,null,null,null,1,1,null,null,null,1,null,1,null,null,null,null,null,null,null,null,null,null,1,1,1,1,null,null,null,null,null,1,null,null,null,1,1,null,null,null,null,null,1,1,null,null,null,null,null,1,1,null,null,null,1,1,1,1,null,null,null,null,null,null,null,null,null,null,1,1,null,1,null,null,null,null,null,null,null,1,1,null,null,null,null,1,null,null,null,null,null,null,null,1,null,1,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,1,null,1,null,1,null,null,1,null,null,1,1,null,null,null,null,null,null,null,null,null,null,1,1,null,null,1,null,null,null,null,null,1,null,null,null,null,null,1,null,1,null,null,null,null,null,null,1,1,null,null,1,null,null,1,null,null,null,1,1,null,1,null,null,1,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,1,1,null,1,null,null,null,null,1,null,null,null,1,null,null,1,1,null,1,null,null,null,null,1,null,null,null,null,1,1,null,null,null,null,null,1], 
        false) });
});

/*
Runtime: 60 ms, faster than 100.0% of JavaScript online submissions for Linked List in Binary Tree.
Memory Usage: 49.5 MB, less than 43.66% of JavaScript online submissions for Linked List in Binary Tree.
*/